<div *ngIf = "loading"
     class = "loading">
    <i class = "fas fa-sync fa-6x fa-spin"></i>
</div>
<div class = "row margin-bottom-button">
    <div *ngIf = "step === 1"
         class = "col-12 py-3 px-md1-0">
        <h3 class = "col-12 p-0 m-0">Select Your Character</h3>
        <div class = "row">
            <div *ngFor = "let currentPlayer of players"
                 class = "col-4 py-3 card-container">
                <div [ngClass] = "{'reverse-flipped':player?.hash !== currentPlayer.hash}"
                     class = "card-flip">
                    <div class = "card front">
                        <img (click) = "setPlayer(currentPlayer)"
                             [src] = "getImage(currentPlayer.character.image)"
                             class = "w-100 h-auto img-thumbnail p-0 cursor-pointer">
                    </div>
                    <div class = "card back">
                        <img (click) = "setPlayer(currentPlayer)"
                             [src] = "getImage(currentPlayer.character.image)"
                             class = "w-100 h-auto img-thumbnail p-0 cursor-pointer grayscale">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf = "step === 2"
         class = "col-12 py-3 px1-md-0">
        <h3 class = "col-12 p-0 m-0">Select Other Characters</h3>
        <div class = "row">
            <div *ngFor = "let currentPlayer of players"
                 class = "col-4 py-3 card-container">
                <div [ngClass] = "{'reverse-flipped':otherPlayers.indexOf(currentPlayer.hash) === -1}"
                     class = "card-flip">
                    <div class = "card front">
                        <img (click) = "setOtherPlayers(currentPlayer)"
                             [src] = "getImage(currentPlayer.character.image)"
                             class = "w-100 h-auto img-thumbnail p-0 cursor-pointer">
                    </div>
                    <div class = "card back">
                        <img (click) = "setOtherPlayers(currentPlayer)"
                             [src] = "getImage(currentPlayer.character.image)"
                             class = "w-100 h-auto img-thumbnail p-0 cursor-pointer grayscale">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf = "step === 3"
         class = "col-12 py-3 px-m1d-0">
        <h3 class = "col-12 p-0 m-0">Your Character</h3>
        <div class = "row">
            <div class = "col-4 py-3">
                <img [src] = "getImage(player.character.image)"
                     class = "w-100 h-auto img-thumbnail p-0">
            </div>
        </div>
        <h3 class = "col-12 p-0 m-0">Other Characters</h3>
        <div class = "row">
            <div *ngFor = "let currentPlayer of players"
                 class = "col-4 py-3">
                <img [src] = "getImage(currentPlayer.character.image)"
                     class = "w-100 h-auto img-thumbnail p-0">
            </div>
        </div>
    </div>
</div>
<div *ngIf = "!loading"
     class = "fixed-bottom">
    <div class = "btn-group col-12 p-0"
         role = "group">
        <button (click) = "back()"
                *ngIf = "step !== 1"
                class = "btn btn-lg btn-info rounded-0"
                title = "Back"
                type = "button">
            <i class = "fas fa-chevron-left fa-lg"></i>
        </button>
        <button (click) = "next()"
                *ngIf = "step !== 3"
                [disabled] = "disableNext()"
                class = "btn btn-lg btn-success rounded-0"
                title = "Next"
                type = "button">
            <i class = "fas fa-chevron-right fa-lg"></i>
        </button>
        <button (click) = "getPieces()"
                *ngIf = "step === 3"
                class = "btn btn-lg btn-success text-white rounded-0"
                title = "Start"
                type = "button">
            <i class = "fas fa-play fa-lg"></i>
        </button>
    </div>
</div>
