<div *ngIf="loading" class="loading">
	<i class="fas fa-sync fa-6x fa-spin"></i>
</div>
<nav *ngIf="!loading" class="navbar fixed-top navbar-dark bg-dark border-bottom">
  <div class="container px-0 px-md-3">
    <div class="navbar-brand"></div>
    <button class="btn btn-outline-danger" type="button" (click)="restartSession()">
      <i class="fas fa-eraser"></i>
    </button>
  </div>
</nav>
<div *ngIf="!loading" class="container">
	<div class="row mt-5 mb-5">
		<div class="col-12 table-responsive pt-3">
			<table *ngFor="let type of types" class="table table-bordered">
				<thead class="thead-dark">
					<tr>
						<th class="descriptor" scope="col">
							{{ type.name }}
						</th>
						<th *ngFor="let player of session?.players" class="selector" scope="col">
							<img [src] = "player.character.image | sanitize"
                 class = "img-thumbnail rounded-lg character-image" />
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor = "let piece of type?.pieces">
            <th class = "descriptor"
                scope = "row"
                (click)="accuse(piece,type.pieces)">
              <div [ngClass] = "getPieceStatus(piece)"
                  class = "text-truncate">
                {{ piece.name }}
              </div>
              <!--<div class = "float-left">
                <img [src] = "imagePath + piece.image"
                    class = "img-thumbnail rounded-lg character-image" />
              </div>-->
            </th>
            <th (click) = "toggleStatus(cardStatus,piece)"
                class = "selector"
                *ngFor = "let cardStatus of piece.status"
                [ngClass] = "{'cursor-pointer':!cardStatus.frozen}"
                scope = "col">
              <i [ngClass] = "getStatusIcon(cardStatus)"
                class = "fas fa-lg"></i>
            </th>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<div class="fixed-bottom">
  <button class="btn btn-lg btn-danger rounded-0 col-12" type="button" (click)="startAccusal()">
    Accuse
  </button>
</div>